<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SubID Matrix</title>
  <link rel="stylesheet" href="styles.css" />
  <meta name="description" content="Generate channel-tagged affiliate links in bulk. Local-only. No account." />

  <!-- FastSpring popup (hosted checkout) -->
  <script
    id="fsc-api"
    src="https://sbl.onfastspring.com/sbl/1.0.5/fastspring-builder.min.js"
    type="text/javascript"
    data-storefront="cleansharelink.test.onfastspring.com/popup-subidmx">
  </script>
</head>
<body>
  <header class="site-header">
    <div class="brand">
      <div class="logo-dot" aria-hidden="true"></div>
      <h1>SubID Matrix</h1>
    </div>
    <div class="hdr-actions">
      <button id="buyAffBtn" class="btn subtle">Unlock Export CSV</button>
    </div>
  </header>

  <main class="wrap">
    <section class="card">
      <h2 class="card-title">Create channel-tagged affiliate links → CSV</h2>

      <p class="muted small">
        Paste your affiliate URLs and channel labels. SubID Matrix preserves critical affiliate parameters and adds the correct
        per-network SubID (<code>ascsubtag</code> for Amazon, <code>clickref</code> for Awin, <code>sid</code> for CJ, <code>customid</code> for eBay,
        <code>subId</code> for Impact, <code>u1</code> for Rakuten, <code>tid</code> for ClickBank). We also canonicalize Amazon links and remove UTMs.
      </p>

      <input type="checkbox" id="heroCtl" class="collapse-ctl" checked>
      <div class="collapse-body" id="heroBody">
        <div class="grid-two">
          <div class="blk">
            <h3 class="mini-h">Who it’s for</h3>
            <ul class="mini-list">
              <li>Creators & publishers (YouTube, IG, TikTok, newsletters)</li>
              <li>Agencies & OPM teams (clean handover / QA)</li>
              <li>Solo affiliates + VAs (fast, error-proof delivery)</li>
            </ul>
          </div>
          <div class="blk">
            <h3 class="mini-h">Benefits</h3>
            <ul class="mini-list">
              <li>Correct SubID param per network (no lost commission)</li>
              <li>Clean, canonical URLs (e.g., Amazon <code>/dp/ASIN</code>, no UTMs)</li>
              <li>N×M expansion (N URLs × M channels) in one click</li>
              <li>CSV artifact for Sheets, VA workflows, automation</li>
              <li>Local-only • No account • No tracking</li>
            </ul>
          </div>
        </div>
      </div>

      <label for="heroCtl" class="collapse-toggle" aria-controls="heroBody" aria-label="Toggle details">
        <span class="arrow" aria-hidden="true"></span>
      </label>

      <div class="callout note">
        <strong>NOTE:</strong> Preview shows only <em>one</em> full URL; all other rows are masked. Complete results are available via
        <strong>Export CSV</strong> .
        <div class="tiny" style="margin-top:6px;">
          Want to see exactly what you get? <a href="sample-output.csv" class="link">See full sample CSV</a>.
        </div>
        <div class="tiny" style="margin-top:4px;">
          <strong>TIP:</strong> In Excel/Sheets, select all and AutoFit columns to see full URLs
          (Excel: <code>Ctrl+A</code> → double-click column edge; Sheets: <em>Format → Resize columns → Fit to data</em>).
        </div>
      </div>

      <label for="urlsIn" class="label">Affiliate URLs <span class="dim">(one per line)</span></label>
      <textarea id="urlsIn" class="input" rows="6" placeholder="https://www.amazon.com/dp/ASIN?tag=yourtag-20
https://go.awin.link/..."></textarea>

      <label for="channelsIn" class="label">Channels <span class="dim">(one per line)</span></label>
      <textarea id="channelsIn" class="input" rows="3" placeholder="youtube_desc
ig_bio
newsletter_aug"></textarea>

      <div class="toggles" style="margin-top:8px">
        <label class="toggle">
          <input type="checkbox" id="keepUtms" />
          <span>Keep UTM params</span>
          <button type="button" class="i-tip" aria-label="What is this?"
                  data-tip="If ON, keeps UTM parameters (utm_source, utm_medium, …) in final URLs. If OFF, SubID Matrix strips UTMs for cleaner links.">
            i
          </button>
        </label>
        <label class="toggle">
          <input type="checkbox" id="showAll" />
          <span>Show all rows in preview</span>
          <button type="button" class="i-tip" aria-label="What is this?"
                  data-tip="Expands the on-page preview to show more rows (still masked except the first). Export CSV always contains all full URLs.">
            i
          </button>
        </label>
      </div>

      <div class="result-actions" style="margin-top:12px">
        <button id="smtAnalyzeBtn" class="btn">Analyze</button>
        <button id="smtExportBtn" class="btn primary">Export CSV</button>
      </div>
      <p class="muted small" style="margin-top:6px">Export CSV includes all rows.</p>

      <div id="status" class="status" role="status" aria-live="polite" style="margin-top:10px"></div>
      <div id="smtSummary" class="smt-summary muted small"></div>

      <div class="tbl-wrap">
        <table class="tbl" id="smtTable">
          <thead>
            <tr><th>Network</th><th>Channel</th><th>Result</th></tr>
          </thead>
          <tbody id="smtTbody"><tr><td colspan="3" class="dim">No preview yet.</td></tr></tbody>
        </table>
      </div>
      <div class="muted tiny" id="smtHint" style="margin-top:6px;display:none">
        Preview shows only masked URLs. Export reveals all final URLs.
      </div>

      <div class="net-strip">
        <span class="net-title">In association with:</span>
        <a class="net-badge" href="https://www.clickbank.com/" target="_blank" rel="noopener">ClickBank</a>
        <a class="net-badge" href="https://www.cj.com/" target="_blank" rel="noopener">CJ</a>
        <a class="net-badge" href="https://www.awin.com/" target="_blank" rel="noopener">Awin</a>
        <a class="net-badge" href="https://www.impact.com/" target="_blank" rel="noopener">Impact</a>
        <a class="net-badge" href="https://rakutenadvertising.com/" target="_blank" rel="noopener">Rakuten</a>
        <a class="net-badge" href="https://www.ebaypartnernetwork.com/" target="_blank" rel="noopener">eBay Partner Network</a>
        <a class="net-badge" href="https://affiliate-program.amazon.com/" target="_blank" rel="noopener">Amazon Associates</a>
      </div>
      <p class="tiny dim" style="margin-top:6px"></p>
    </section>

    <footer class="foot muted">
      <span>TRUSTED BY 8000+ USERS</span>
    </footer>
  </main>

  <!-- Pricing modal -->
  <div id="pkgModal" class="modal-overlay" style="display:none;">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="pkgTitle">
      <div class="modal-head">
        <h3 id="pkgTitle">Choose your package</h3>
        <button id="pkgClose" class="btn icon" aria-label="Close">✕</button>
      </div>

      <p class="muted small" style="margin:0 0 10px">One-time purchase • one CSV export credit.</p>

      <div class="pricing-grid">
        <button id="pkgStarter" class="plan-card" aria-label="Choose Starter">
          <div class="plan-head"><span class="plan-name">Starter</span><span class="pill">Up to 10 URLs</span></div>
          <div class="price">€3.99</div>
          <ul class="plan-list"><li>1 CSV export credit</li><li>All networks supported</li><li>Local-only processing</li></ul>
          <div class="plan-cta">Continue</div>
        </button>

        <button id="pkgPro" class="plan-card popular" aria-label="Choose Pro">
          <div class="top-ribbon">Most popular</div>
          <div class="plan-head"><span class="plan-name">Pro</span><span class="pill">Up to 50 URLs</span></div>
          <div class="price">€14.99</div>
          <ul class="plan-list"><li>1 CSV export credit</li><li>All networks + notes</li><li>Channel normalization</li></ul>
          <div class="plan-cta">Continue</div>
        </button>

        <button id="pkgAgency" class="plan-card" aria-label="Choose Agency">
          <div class="plan-head"><span class="plan-name">Agency</span><span class="pill">Up to 100 URLs</span></div>
          <div class="price">€24.99</div>
          <ul class="plan-list"><li>1 CSV export credit</li><li>Full CSV schema</li><li>Optimized for teams</li></ul>
          <div class="plan-cta">Continue</div>
        </button>
      </div>

      <p class="tiny dim" style="margin-top:10px">Powered by FastSpring • VAT shown in checkout if applicable.</p>
    </div>
  </div>

  <script src="ui.js"></script>
</body>
</html>
